<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Day Trading Stock Picker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { RefreshCw, TrendingUp, Clock, AlertCircle, DollarSign, Globe } = lucide;

        function DayTradingPicker() {
          const [currentTime, setCurrentTime] = useState(new Date());
          const [stocks, setStocks] = useState([]);
          const [loading, setLoading] = useState(false);
          const [error, setError] = useState(null);
          const [marketStatuses, setMarketStatuses] = useState({
            us: { isOpen: false, message: '' },
            london: { isOpen: false, message: '' },
            tokyo: { isOpen: false, message: '' }
          });

          useEffect(() => {
            const timer = setInterval(() => {
              setCurrentTime(new Date());
            }, 1000);
            
            checkAllMarketStatuses();
            return () => clearInterval(timer);
          }, []);

          const checkAllMarketStatuses = () => {
            const now = new Date();
            
            // US Market
            const etTime = new Date(now.toLocaleString('en-US', { timeZone: 'America/New_York' }));
            const usDay = etTime.getDay();
            const usHours = etTime.getHours();
            const usMinutes = etTime.getMinutes();
            const usCurrentMinutes = usHours * 60 + usMinutes;
            const usMarketOpen = 9 * 60 + 30;
            const usMarketClose = 16 * 60;
            const usIsWeekday = usDay >= 1 && usDay <= 5;
            const usIsDuringMarketHours = usCurrentMinutes >= usMarketOpen && usCurrentMinutes < usMarketClose;
            const usIsOpen = usIsWeekday && usIsDuringMarketHours;
            
            let usMessage = '';
            if (!usIsWeekday) {
              usMessage = 'Closed (Weekend)';
            } else if (usCurrentMinutes < usMarketOpen) {
              usMessage = 'Opens 9:30 AM ET';
            } else if (usCurrentMinutes >= usMarketClose) {
              usMessage = 'Closed 4:00 PM ET';
            } else {
              usMessage = 'OPEN';
            }
            
            // London Market
            const londonTime = new Date(now.toLocaleString('en-US', { timeZone: 'Europe/London' }));
            const londonDay = londonTime.getDay();
            const londonHours = londonTime.getHours();
            const londonMinutes = londonTime.getMinutes();
            const londonCurrentMinutes = londonHours * 60 + londonMinutes;
            const londonMarketOpen = 8 * 60;
            const londonMarketClose = 16 * 60 + 30;
            const londonIsWeekday = londonDay >= 1 && londonDay <= 5;
            const londonIsDuringMarketHours = londonCurrentMinutes >= londonMarketOpen && londonCurrentMinutes < londonMarketClose;
            const londonIsOpen = londonIsWeekday && londonIsDuringMarketHours;
            
            let londonMessage = '';
            if (!londonIsWeekday) {
              londonMessage = 'Closed (Weekend)';
            } else if (londonCurrentMinutes < londonMarketOpen) {
              londonMessage = 'Opens 8:00 AM GMT';
            } else if (londonCurrentMinutes >= londonMarketClose) {
              londonMessage = 'Closed 4:30 PM GMT';
            } else {
              londonMessage = 'OPEN';
            }
            
            // Tokyo Market
            const tokyoTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Tokyo' }));
            const tokyoDay = tokyoTime.getDay();
            const tokyoHours = tokyoTime.getHours();
            const tokyoMinutes = tokyoTime.getMinutes();
            const tokyoCurrentMinutes = tokyoHours * 60 + tokyoMinutes;
            const tokyoMorningOpen = 9 * 60;
            const tokyoLunchStart = 11 * 60 + 30;
            const tokyoLunchEnd = 12 * 60 + 30;
            const tokyoMarketClose = 15 * 60;
            const tokyoIsWeekday = tokyoDay >= 1 && tokyoDay <= 5;
            const tokyoIsOpen = tokyoIsWeekday && 
              ((tokyoCurrentMinutes >= tokyoMorn
